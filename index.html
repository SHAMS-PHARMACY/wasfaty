<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ูุตูุชู | ุตูุฏููุงุช ุดูุณ</title>
  <meta name="description" content="ุญุฏุฏ ูููุนู ูุงุฎุชูุงุฑ ุฃูุฑุจ ูุฑุน ูุตุฑู ูุตูุชู ุนุจุฑ ุตูุฏููุงุช ุดูุณ.">
  <link rel="stylesheet" href="style.css" />
  <style>
    .seg{display:flex;gap:10px;margin:14px 0 18px}
    .seg button{flex:1;padding:14px;border-radius:14px;border:1px solid #cbd5e1;background:#e2e8f0;font-weight:800;cursor:pointer}
    .seg button.active{background:var(--brand-blue);color:#fff;border-color:#1e40af;box-shadow:0 6px 14px rgba(37,99,235,.25)}
    label{display:block;margin:12px 0 6px;font-weight:700}
    input,textarea{width:100%;padding:12px;border:1px solid #cbd5e1;border-radius:12px;font-size:15px;outline:none}
    input:focus,textarea:focus{border-color:var(--brand-blue);box-shadow:0 0 0 3px rgba(37,99,235,.15)}
    textarea{min-height:84px}
    .muted{color:var(--muted);font-size:13px}
    .error{color:#dc2626;margin-top:8px;font-size:14px}
    .toast{position:fixed;top:16px;left:50%;transform:translateX(-50%);background:#111827;color:#fff;padding:12px 16px;border-radius:12px;box-shadow:0 10px 24px rgba(0,0,0,.2);opacity:0;pointer-events:none;transition:opacity .25s ease, transform .25s ease;z-index:9999}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
  </style>
</head>
<body>
  <main class="wrap">
    <!-- ุดุงุดุฉ ุงูุชุฑุญูุจ -->
    <section id="welcome" class="card center">
      <div class="brand">
        <div class="sun">โ๏ธ</div>
        <div>
          <h1 class="title">Welcome at Shams Pharmacy</h1>
          <p class="muted">ูู ูุถูู ูู ุจุชุญุฏูุฏ ูููุนู ูุงุฎุชูุงุฑ ุฃูุฑุจ ูุฑุน</p>
        </div>
      </div>

      <div class="promo">
        <div class="promo__title">ุงุตุฑู ูุตูุชู ูุงุญุตู ุนูู ููุงุท ุชูุณุชุจุฏู ูุงุญููุง ๐</div>
        <div class="promo__subtitle">ููุฒุฉ ุงูููุงุก ุงูุญุตุฑูุฉ ูู ุตูุฏููุงุช ุดูุณ</div>
      </div>

      <button id="btnLocate" class="btn btn-primary">ุชุญุฏูุฏ ูููุนู ุงูุขู</button>
      <div class="hint">ุจุงูุถุบุท ุนูู ุงูุฒุฑ ุณูุทูุจ ุงููุชุตูุญ ุฅุฐู ุงููุตูู ูููููุน.</div>
    </section>

    <!-- ุญุงูุฉ ุงูุชุญููู/ุงูุฃุฎุทุงุก -->
    <section id="status" class="card" hidden></section>

    <!-- ุฃูุฑุจ ูุฑุน + ุงุฎุชูุงุฑ ุงูุฎุฏูุฉ -->
    <section id="nearest" class="card" hidden>
      <h2 class="section-title">ุชู ุชุญุฏูุฏ ุฃูุฑุจ ูุฑุน</h2>
      <div id="nearestInfo" class="nearest-info"></div>

      <div class="options">
        <label class="opt">
          <input type="radio" name="service" value="ุงุณุชูุงู ูู ุงููุฑุน" checked />
          <span>ุงุณุชูุงู ูู ุงููุฑุน</span>
        </label>
        <label class="opt">
          <input type="radio" name="service" value="ุชูุตูู ููููุฒู" />
          <span>ุชูุตูู ููููุฒู</span>
        </label>
      </div>

      <button id="btnContinue" class="btn btn-primary">ูุชุงุจุนุฉ</button>

      <div id="waFallbackNear" class="fallback" hidden>
        ุชู ูุชุญ ูุงุชุณุงุจ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ. ุฅู ูู ูููุชุญ ุชููุงุฆููุงุ
        <a id="waLinkNear" class="link" target="_blank" rel="noopener">ุงุถุบุท ููุง ููุชุญู ูุฏูููุง</a>.
      </div>
    </section>

    <!-- ูููุฐุฌ ุงูุจูุงูุงุช -->
    <section id="formCard" class="card" hidden>
      <div class="promo" id="promoTop">
        ุงุตุฑู ูุตูุชู ูู ุตูุฏููุงุช ุดูุณ ูุงูุณุจ ููุงุท ููุงุก ุชุชุญูู ุฎุตู ุนูู ูุดุชุฑูุงุชู ๐
        <span class="small" style="display:block;opacity:.9;font-size:13px;margin-top:4px">ูุง ุชูุณู ุชูุนูู ุฑููู ุนูุฏ ุงูุตุฑู ูุชุฌููุน ุงูููุงุท.</span>
      </div>

      <p class="muted">ุงุฎุชูุฑ ุทุฑููุฉ ุงุณุชูุงู ูุตูุชู ุซู ุฃุฏุฎู ุงูุจูุงูุงุช ุงููุทููุจุฉ.</p>

      <div class="seg" id="modeSeg">
        <button data-mode="pickup" class="active">๐ถโโ๏ธ ุงุณุชูุงู ูู ุงููุฑุน</button>
        <button data-mode="delivery">๐ ุชูุตูู ููููุฒู</button>
      </div>

      <div id="formView">
        <label>ุฑูู ุงููููุฉ</label>
        <input id="id_number" type="text" placeholder="1012345678" inputmode="numeric">

        <label>ุฑูู ุงููุตูุฉ</label>
        <input id="rx_number" type="text" placeholder="A123456789">

        <div id="deliveryBlock" style="display:none;">
          <label>ุฑูู ุงูุฌูุงู</label>
          <input id="mobile" type="tel" placeholder="05xxxxxxxx" inputmode="tel">

          <label>๐ ุชุญุฏูุฏ ูููุนู ููุชูุตูู</label>
          <button id="locBtn" class="btn btn-primary" style="margin-top:6px">๐ ุญุฏุฏ ูููุนู ุงูุขู</button>
          <div id="locStatus" class="muted" style="margin-top:6px"></div>

          <label>ูุตู ุงูุนููุงู</label>
          <textarea id="addr" placeholder="ุงุณู ุงูุญู + ุฃูุฑุจ ูุนูู"></textarea>
        </div>

        <div style="margin-top:10px">
          <input id="consent" type="checkbox"> ุฃูุงูู ุนูู ูุดุงุฑูุฉ ุจูุงูุงุชู ูุบุฑุถ ุชุฌููุฒ ุงูุทูุจ
        </div>

        <button class="btn btn-success" id="sendBtn">ุฅุฑุณุงู ุงูุทูุจ ุงูุขู</button>
        <div id="errorMsg" class="error"></div>
      </div>

      <div id="doneView" style="display:none;text-align:center;">
        <div id="promoBanner" class="promo" style="display:block;">
          ุงุตุฑู ูุตูุชู ูู ุตูุฏููุงุช ุดูุณ ูุงูุณุจ ููุงุท ููุงุก ุชุชุญูู ุฎุตู ุนูู ูุดุชุฑูุงุชู ๐
          <span class="small">ูุง ุชูุณู ุชูุนูู ุฑููู ุนูุฏ ุงูุตุฑู ูุชุฌููุน ุงูููุงุท.</span>
        </div>

        <h2 style="color:#16a34a">โ ุชู ุชุฌููุฒ ุงูุทูุจ</h2>
        <p>ุชู ูุชุญ ูุงุชุณุงุจ ูุฅุฑุณุงู ุงูุฑุณุงูุฉ.</p>
        <a id="waLink" class="btn btn-primary" style="display:block;margin-bottom:12px" target="_blank" rel="noopener">๐ ุชูุงุตู ุนุจุฑ ูุงุชุณุงุจ</a>
        <button id="newReq" class="btn" style="background:#e5e7eb">ุทูุจ ุฌุฏูุฏ</button>
      </div>
    </section>

    <!-- ูุง ุชูุฌุฏ ูุฑูุน ูุฑูุจุฉ (ูุน ุงูุชุฑุงุญ ุฃูุฑุจ ูุฑุน) -->
    <section id="noNear" class="card center" hidden>
      <h2 class="section-title">ุนูููุง ูุง ููุฌุฏ ูุฑุน ูุฑูุจ ูุชูุตูู ุงููุตูุฉ</h2>
      <p class="muted" style="margin-top:-6px">
        ููู ููููู ุงุณุชูุงู ุงููุตูุฉ ูู ุฃูุฑุจ ูุฑุน ูู ุจููุณู.
      </p>
      <div id="fallbackInfo" class="nearest-info" style="margin:12px 0 14px"></div>
      <button id="btnNoNearContinue" class="btn btn-primary" style="width:100%">
        ุงุถุบุท ููุง ูููุชุงุจุนุฉ
      </button>
    </section>

    <footer class="footer">
      <small>ยฉ ุฌููุน ุงูุญููู ูุญููุธุฉ ูุตูุฏููุงุช ุดูุณ</small>
    </footer>
  </main>

  <div id="toast" class="toast">ุชู ูุชุญ ูุงุชุณุงุจ ูุฅุฑุณุงู ุทูุจู โ</div>

  <!-- ุงุฑุจุท ููู ุงูุฌุงูุงุณูุฑูุจุช ุงูุตุญูุญ -->
  <script src="script.js?v=12" defer></script>
</body>
</html>
